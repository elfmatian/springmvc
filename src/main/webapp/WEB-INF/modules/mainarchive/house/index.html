<!DOCTYPE html>
<html>
  <head>
    <title>房屋住户管理</title>
<script type="text/javascript" src="../house/js/house.js"></script>
<script type="text/javascript" src="../house/js/user.js"></script>
<script type="text/javascript" src="../house/js/validator.js"></script>
<script type="text/javascript" src="/ynlxcloud/jeasyui/extension/jquery.jdirk.js"></script>
<script type="text/javascript" src="/ynlxcloud/jeasyui/uploadify/jquery.uploadify.min.js"></script>
<style type="text/css">
   #fm{
      margin:0;
      padding:10px 30px;
     }
  .ftitle{
      font-size:14px;
      font-weight:bold;
      padding:5px 0;
      margin-bottom:5px;
      border-bottom:1px solid #ccc;
    }
</style>
</head>
<body>
 <!--layout布局 --> 
   <div class="easyui-layout" data-options="fit:true">
      <!--layout布局:center -->
      <div data-options="region:'center',title:'房屋'" style="padding:0px;background:#eee;">
		  <!-- 显示房屋信息的界面：datagrid -->
		   <table id="datagrid_list_house"> </table>
		   		<!-- 显示 编辑，删除，浏览功能按钮的区域-->
		   		<div id="btn_operate_house" style="padding:2px">
			        <table cellpadding="0" cellspacing="0" style="width:100%">
			        	 <tr>
			        	 	 <td style="text-align:left">
			        	 		<div id="searchbar">
			        	 	 	 <input id="searchBox_house" name="searchBox_house" class="easyui-searchbox" data-options="searcher:getHouseByParams,width:350, height: 26, prompt: '请输入关键词查找', menu: '#toSearch_house'" />
			        	 	 	 <div id="toSearch_house" style="width: 85px;">
			        	 	 	 	<div data-options="name:'houseNo',selected:true">房屋编号</div>
					             </div>
					            </div>
					         </td>
			                 <td style="text-align:right">
		        				<a href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-edit"onclick="editHouse()" plain="true">修改</a> 
		        				<!-- <a href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-remove" onclick="deleteHouse()" plain="true">删除</a> -->
		        				<!-- <a href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-search" onclick="udpateOrBrowseHouse(0)" plain="true">浏览</a> -->
		    				</td>
			            </tr>
			        </table>
			    </div>
			 </div>
			 <!--layout布局：east -->
			   <div data-options="region:'east',title:'房屋住户'" style="width:45%;padding-left:3px">
			    <!-- 显示房屋下住户信息的界面：datagrid  -->
			    <table id="datagrid_list_user"></table>
			       <!-- 显示 添加，移除住户功能按钮的区域-->
			       <div id="btn_operate_user" style="padding:3px">
			       	 <table cellpadding="0" cellspacing="0" style="width:100%">
			           <tr>
			        	 <td style="text-align:right">
			       			<a href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:'icon-add',plain:true" onclick="addOrUpdateUser(1)">添加</a>
			       			<a href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:'icon-edit',plain:true" onclick="doUpdateUser()">修改</a>
				        	<a href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:'icon-remove',plain:true" onclick="deleteUser()">移除</a>
						</td>
					   </tr>
					</table>
			    </div>
			  </div>
			   <!--编辑房屋信息界面  ：dialog-->
			    <div id="dialog_add_house" class="easyui-dialog" style="width:1045px;height:530px;" data-options="modal:true,closed:true,buttons:'#dlg_buttons_add_house'">
			    	<div id="panel_add_house" class="easyui-panel" data-options="fit:true,border:false"></div>
			    </div>
			    <!--编辑房屋信息界面:buttons -->
			    <div id="dlg_buttons_add_house">
			        <a href="javascript:void(0)" class="easyui-linkbutton"  onclick="saveHouse()" style="width:90px" data-options="iconCls:'icon-save'">保存</a>
			        <a href="javascript:void(0)" class="easyui-linkbutton"  style="width:90px" onclick="javascript:$('#dialog_add_house').dialog('close')"  data-options="iconCls:'icon-cancel'">关闭</a>
			    </div>
			   <!-- 显示编辑房屋信息的页面：dialog -->
			    <div id="dialog_edit_house" class="easyui-dialog" title="编辑房屋信息" style="width:auto" closed="true" modal="true" resizable="true" buttons="#EditButton">
		    	  <form id="form_edit_house" method="post">
		    		<input type="hidden" id="houseId" name="houseId"/>
		    		<input type="hidden" id="cid" name="cid"/>
			  		<table  style="padding:4px" height="auto" border="0" cellpadding="2px" cellspacing="0">
			  			<tr>
			         		<td><label>房屋类型：</label></td>
		          			<td><input  id="houseType" name="houseType"  data-options="valueField:'wordValue',prompt:'请选择',editable:false,textField:'wordDisplay',  url:Swet.server.mainArchive+'/wordbook/list/HOUSE_TYPE',method:'GET'" class="easyui-combobox" required></td>
			        		<td><label>卧室数量：</label></td>
			        		<td><input name="bedRoomCount" id="bedRoomCount" required class="easyui-numberspinner" data-options="min:1,max:100,editable:false"></td>
			        		<td><label>厨房数量：</label></td>
			        		<td><input id="kitchenCount" name="kitchenCount" required class="easyui-numberspinner" data-options="min:1,max:100,editable:false"></td>
		         		</tr>
		        		<tr>
			          		<td><label>卫生间数量：</label></td>
			          		<td><input id="washRoomCount" name="washRoomCount" required class="easyui-numberspinner" data-options="min:1,max:100,editable:false"></td>
			          		<td><label>阳台数量：</label></td>
			          		<td><input id="verandaCount" name="verandaCount"required class="easyui-numberspinner" data-options="min:1,max:100,editable:false"></td>
		        	  		<td><label>窗户数量：</label></td>
		        	  		<td><input id="windowCount" name="windowCount" required class="easyui-numberspinner" data-options="min:1,max:100,editable:false"></td>
		          		</tr>
		        		<tr>
		          	  		<td><label>大门数量：</label></td>
		          	  		<td><input id="gateCount" name="gateCount" required class="easyui-numberspinner" data-options="min:1,max:100,editable:false"></td>
		        	  		<td><label>厅数量：</label></td>
		          	  		<td><input id="livingRoomCount" name="livingRoomCount" required class="easyui-numberspinner" data-options="min:1,max:100,editable:false"></td>
		        	  		<td><label>小区内码：</label></td>
		              		<td><input name="communityId" id="communityId" class="easyui-numberbox" data-options="min:1,precision:0" required></td>
		            	</tr>
		            	<tr>
		            		<td><label>状&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;态:</label></td>
		            		<td><input name="status" class="easyui-combobox" data-options="valueField:'wordValue',prompt:'请选择',textField:'wordDisplay',url:Swet.server.mainArchive+'/wordbook/list/STATUS',method:'GET',editable:false" required></td>
		            	</tr>
		            	<tr>
		          			<td colspan=8><div class="ftitle">其他信息</div></td>
		        		</tr>
		        		<tr>
			          		<td><label>房屋编号：</label></td>
			          		<td><input name="houseNo" id="houseNo" class="easyui-textbox" data-options=" prompt:'如6街-22栋-502'"></td>
			          		<td><label>花园面积：</label></td>
			          		<td><input type="text" id="gardenAcreage" name="gardenAcreage" class="easyui-numberbox" data-options="min:1,precision:2"></td>
			          		<td><label>围墙长度：</label></td>
			          		<td><input type="text" name="wallLength" id="wallLength" class="easyui-numberbox" data-options="min:1,precision:2"></td>
		        		</tr>
			        	<tr>
			          		<td><label>总面积：</label></td>
			          		<td><input type="text" id="houseAcreage" name="houseAcreage"  class="easyui-numberbox" data-options="min:1,precision:2" required></td>
			          		<td><label>户型图：</label></td>
			          		<td><input name="houseModelDid" id="houseModelDid" class="easyui-textbox" ></td>
			       	  		<td><label>设计图：</label></td>
			          		<td><input name="houseDesignDid" id="houseDesignDid" class="easyui-textbox" ></td>
			        	</tr>
			        	<tr>
			          		<td><label>经度：</label></td>
			          		<td><input name="longitude" id="longitude" class="easyui-numberbox" data-options="min:0,precision:2" readonly>
		              		<td><label>纬度：</label></td>
			          		<td><input name="latitude" id="latitude" class="easyui-numberbox" data-options="min:0,precision:2" readonly></td>
			          		<td><label>房屋情况描述：</label></td>
			          		<td><input name="houseDesc" id="houseDesc" class="easyui-textbox"></td>
		            	</tr>
		        		<tr>
		              		<td><label>备注信息：</label></td>
		               		<td colspan="5" align="left"><textarea name="note" rows="6" cols="98" multiline="true" class="easyui-textbox" style="width:605px;height:70px"></textarea></textarea></td>
		            	</tr>
		    		</table> 
		    	 </fieldset>
		    	</form>
		    	</div>
		    	<!-- 关闭房屋信息编辑页面的功能按钮 -->
		    	<div id="EditButton">
		        	<a class="easyui-confirmbutton" iconcls="icon-save" data-options="fun:saveHouse" plain="true">保存</a> 
		        	<a href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-cancel"onclick="CancelEditHouse()">取消</a> 
		    	</div>
		    	
		  		<!-- ---添加或修改用户界面：dialog---- -->
		  		<div id="dialog_edit_user" class="easyui-dialog" title="编辑住户资料 " style="width:auto;height:auto" closed="true" modal="true" resizable="true" buttons="#EditButton"> 
		    		<form id="form_edit_user" method="post">
			    	<input type="hidden" id="uid" name="uid">
			    	<input type="hidden" id="houseId" name="houseId">
					<table style="height:100%;width:100%;padding:3px" border="0" cellpadding="5px" cellspacing="0">
						<tr>
				          <td><label>用户名称：</label></td>
				          <td><input name="userName" id="userName" class="easyui-textbox" required> </td>
				          <td><label>用户类型：</label></td>
				          <td><input id="cmb_query_user_userType" name="userType" data-options="valueField:'wordValue',prompt:'请选择',textField:'wordDisplay',editable:false,url:Swet.server.mainArchive+'/wordbook/list/EMP_TYPE',method:'GET'" class="easyui-combobox" required> </td> 
				          <td><label>性别：</label></td>
					      <td><input name="gender" id="cmb_query_user_gender" data-options="valueField:'wordValue',prompt:'请选择',textField:'wordDisplay',editable:false,url:Swet.server.mainArchive+'/wordbook/list/GENDER',method:'GET'" class="easyui-combobox" required> </td>
				        </tr>
				        <tr>
				          <td><label>证件类型：</label></td>
				          <td><input name="idType" id="cmb_query_user_idType"  data-options="valueField:'wordValue',prompt:'请选择',textField:'wordDisplay',editable:false" class="easyui-combobox" required> </td>
				          <td><label>证件号码：</label></td>
				          <td><input id="cmb_query_user_idNo" name="idNo" class="easyui-textbox validatebox" missingMessage="不能为空"  data-options="required:true,validType:['idcard','remote[checkIdNoUrl,checkIdNo]']"> </td>
				          <td><label>邮箱：</label></td>
				          <td><input name="email" id="email" class="easyui-textbox validatebox" data-options="validType:'semail'"/> </td>
				        </tr>
				        <tr>
				          <td><label>联系手机：</label></td>
				          <td><input name="cell" id="cell" class="easyui-textbox validatebox" missingMessage="不能为空" data-options="prompt:'仅能有一个号码',required:true,validType:['mobile','remote[checkCellUrl,checkCell]']"> </td>
				          <td><label>备用手机：</label></td>
				          <td><input name="cell2" id="cell2" class="easyui-textbox validatebox" data-options="prompt:'可通过英文逗号填写多个',required:true,validType:'isTels'"></td>
				          <td><label>血型：</label></td>
					      <td><input name="blood" id="cmb_query_user_blood" data-options="valueField:'wordValue',prompt:'请选择',textField:'wordDisplay',editable:false,url:Swet.server.mainArchive+'/wordbook/list/BLOOD',method:'GET'" class="easyui-combobox" required></td>
				        </tr>
				        <tr>
				          <td><label>婚姻状况：</label></td>
					      <td><input name="marriage" id="cmb_query_user_marriage" data-options="valueField:'wordValue',prompt:'请选择',textField:'wordDisplay',editable:false,url:Swet.server.mainArchive+'/wordbook/list/MARRIAGE',method:'GET'" class="easyui-combobox" required></td>
				          <td><label>学&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;历：</label></td>
				          <td><input  id="cmb_query_user_education" name="education" data-options="valueField:'wordValue',prompt:'请选择',textField:'wordDisplay',editable:false,url:Swet.server.mainArchive+'/wordbook/list/EDUCATION',method:'GET'" class="easyui-combobox" required></td>
				          <td><label>状态：</label></td>
					      <td><input name="status" id="cmb_query_user_status" data-options="valueField:'wordValue',prompt:'请选择',textField:'wordDisplay',editable:false,url:Swet.server.mainArchive+'/wordbook/list/STATUS',method:'GET'" class="easyui-combobox" required> </td>
				        </tr>
				        <tr>
				          <td><label>备注信息：</label></td>
				          <td colspan="5"><textarea name="note" rows="6" cols="98" multiline="true" class="easyui-textbox" style="width:580px;height:70px"></textarea></td>
				        </tr>
				      </table>
			       </form>
			    </div>
			    
			    <!-- 关闭添加住户页面的功能按钮 -->
			    <div id="EditButton">
			        <a class="easyui-confirmbutton" iconcls="icon-save" data-options="fun:saveUser" plain="true">保存</a> 
			        <a href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-cancel"onclick="CancelEditUser()" plain="true">取消</a> 
			    </div>
			    
		    	<!-- 显示编辑客户成员界面:dialog -->
			  	<div id="dialog_update_user" class="easyui-dialog" title="编辑成员资料 " style="width:auto;height:auto" closed="true" modal="true" resizable="true" buttons="#updateUser"> 
				  <form id="form_update_user" method="post">
					   <input type="hidden" id="update_user_uid" name="uid">
							<table style="height:100%;width:100%;padding:2px" border="0" cellpadding="2px" cellspacing="2px">
								<tr>
						          <td><label>用户名称：</label></td>
						          <td><input name="userName" id="userName" class="easyui-textbox" required> </td>
						          <td><label>用户类型：</label></td>
						          <td><input  name="userType" data-options="valueField:'wordValue',prompt:'请选择',textField:'wordDisplay',editable:false,url:Swet.server.mainArchive+'/wordbook/list/USER_TYPE',method:'GET'" class="easyui-combobox" required> </td> 
						          <td><label>性别：</label></td>
							      <td><input name="gender" data-options="valueField:'wordValue',prompt:'请选择',textField:'wordDisplay',editable:false,url:Swet.server.mainArchive+'/wordbook/list/GENDER',method:'GET'" class="easyui-combobox" required> </td>
						        </tr>
						        <tr>
						          <td><label>证件类型：</label></td>
						          <td><input name="idType"  data-options="valueField:'wordValue',prompt:'请选择',textField:'wordDisplay',url:Swet.server.mainArchive+'/wordbook/list/ID_TYPE',method:'GET',editable:false" class="easyui-combobox" readonly> </td>
						          <td><label>证件号码：</label></td>
						          <td><input name="idNo" class="easyui-textbox validatebox" readonly> </td>
						          <td><label>邮箱：</label></td>
						          <td><input name="email"  class="easyui-textbox validatebox"  data-options="validType:'semail'"/> </td>
						        </tr>
						        <tr>
						           <td><label>联系手机：</label></td>
						          <td><input name="cell"  class="easyui-textbox " readonly> </td>
						          <td><label>备用手机：</label></td>
						          <td><input name="cell2" id="cell2" class="easyui-textbox validatebox" data-options="prompt:'可通过英文逗号填写多个',required:true,validType: 'isTels'"></td>
						          <td><label>血型：</label></td>
							      <td><input name="blood" data-options="valueField:'wordValue',prompt:'请选择',textField:'wordDisplay',editable:false,url:Swet.server.mainArchive+'/wordbook/list/BLOOD',method:'GET'" class="easyui-combobox" required></td>
						        </tr>
						        <tr>
						          <td><label>婚姻状况：</label></td>
							      <td><input name="marriage"  data-options="valueField:'wordValue',prompt:'请选择',textField:'wordDisplay',editable:false,url:Swet.server.mainArchive+'/wordbook/list/MARRIAGE',method:'GET'" class="easyui-combobox" required></td>
						          <td><label>学&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;历：</label></td>
						          <td><input name="education" data-options="valueField:'wordValue',prompt:'请选择',textField:'wordDisplay',editable:false,url:Swet.server.mainArchive+'/wordbook/list/EDUCATION',method:'GET'" class="easyui-combobox" required></td>
						          <td><label>状态：</label></td>
							      <td><input name="status" data-options="valueField:'wordValue',prompt:'请选择',textField:'wordDisplay',editable:false,url:Swet.server.mainArchive+'/wordbook/list/STATUS',method:'GET'" class="easyui-combobox" required> </td>
						        </tr>
						        <tr>
						          <td><label>备注信息：</label></td>
						          <td colspan="5"><textarea name="note" rows="6" cols="98" multiline="true" class="easyui-textbox" style="width:580px;height:70px"></textarea></td>
						       </tr>
						  </table>
					</form>
			  	</div>
			  	<!-- 编辑或取消编辑成员页面的功能按钮 -->
			  	<div id="updateUser">
			  	 	<a class="easyui-confirmbutton c2" iconcls="icon-save" data-options="fun:updateUser">保存</a> 
			     	<a href="javascript:void(0)" class="easyui-linkbutton c6" iconcls="icon-cancel"onclick="CancelUpdate()" plain="true">取消</a> 
			  	</div>
			  	
		    	<!-- ---浏览房屋详细信息页面 -->
    			<div id="dialog_detail_house" class="easyui-dialog" title="浏览房屋详细资料" style="width:700px;height:345px" closed="true" modal="true" resizable="true" buttons="#BrowseButton">
    				<div class="easyui-panel"  id="panel_HouseDetail" style="width:100%;height:100%" data-options="fit:true,border:false"></div>
    			</div>
		    	
			    <!-- 关闭浏览房屋信息页面的功能按钮 -->
			    <div id="BrowseButton">
			        <a href="javascript:void(0)" class="easyui-linkbutton" iconcls="icon-cancel"onclick="closeHouseDetail()" plain="true">关闭</a> 
			    </div>
</body>
</html>